services:
  backend:
    build:
      context: F:/App Development/vendorlogic-diiac/backend-ui-bridge
    container_name: diiac-backend
    ports:
      - "3001:3001"

    # ONLY mount deterministic data, NOT source code
    volumes:
      - F:/App Development/vendorlogic-diiac/artefacts:/workspace/artefacts
      - F:/App Development/vendorlogic-diiac/contracts:/workspace/contracts
      - F:/App Development/vendorlogic-diiac/ledger:/workspace/ledger

    working_dir: /workspace
    command: node /app/server.js

  frontend:
    build:
      context: F:/App Development/vendorlogic-diiac/Frontend
    container_name: diiac-frontend
    ports:
      - "5173:5173"
    depends_on:
      - backend
